<div class="nested-fields box">
  <div class="row my-16 bottom-xs">
    <%= f.hidden_field :id %>
    <%= f.hidden_field :product_id %>
    <div class="col-xs-12 col-sm-4">
      <div class="input">
        <%= f.object.product&.title || 'Sin producto seleccionado' %>
      </div>
      <i class="validation-msg">&nbsp;</i>
    </div>
    <div class="col-xs-12 col-sm-3">
      <%= f.label :quantity, 'Cantidad' %>
      <%= f.text_field :quantity, disabled: f.object.order.status != 'pending', class: 'input validate-required', onkeypress: 'onlyNumber(event)' %>
      <i class="validation-msg">&nbsp;</i>
    </div>
    <div class="col-xs-12 col-sm-3">
      <%= f.label :unit_price, 'Precio unitario' %>
      <%= f.text_field :unit_price, disabled: f.object.order.status != 'pending', class: 'input validate-required', onkeyup: 'editPrice(this);' %>
      <i class="validation-msg">&nbsp;</i>
    </div>
    <div class="col-xs-12 col-sm-2 center-xs end-sm p-0 mt-16">
      <% if f.object.order.status == 'pending' %>
        <%= link_to_remove_association f, class: 'btn btn--destroy d-inline-block m-0' do %>
          <i class="fas fa-times mr-5"></i>
          Remover item
        <% end %>
      <% end %>
    </div>
    <% if f.object.product_variation_id.present? %>
      <%= f.hidden_field :product_variation_id %>
      <div class="variation-details-group col-xs-12 col-md-4">
        <p class="variation-details-label">Detalles</p>
        <% f.object.product_variation.data['attribute_combinations'].each do |v| %>
          <label class="variation-detail-label"><%= v['name'] || v['id'] %>:</label>&nbsp;&nbsp;&nbsp;<label class="variation-detail-content"><%= v['value_name'] || v['value_id'] %></label><br />
        <% end %>
      </div>
    <% end %>

    <div class="col-xs-12 pr-0">
      <div class="divider mt-24"></div>
    </div>
  </div>
</div>
